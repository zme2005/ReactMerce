import{E as e,O as t,b as n,s as r,u as i,w as a,y as o}from"./index-C93SOelP.js";import{P as s}from"./Menu-HJNvFzYs.js";import{a as c,i as l,n as u,o as d,r as f,s as p,t as m}from"./schemas-ZRAPuzIb.js";import{n as h}from"./io-xHGUku7p.js";var g=t(n(),1),_=t(e(),1),v=m({email:u().min(1,{message:`Email is required`}).email({message:`Email is invalid`}),password:u().min(1,{message:`Password is required`})}),y=t(o(),1);function b(){let e=(0,g.c)(39),{loginHandler:t,isLoadingReg:n}=(0,_.useContext)(r),o=a(),u;e[0]===Symbol.for(`react.memo_cache_sentinel`)?(u={resolver:f(v),mode:`all`},e[0]=u):u=e[0];let{register:m,handleSubmit:b,formState:x}=l(u),{errors:S,isValid:C,isDirty:w}=x,[T,E]=(0,_.useState)(!1),[D,O]=(0,_.useState)(null),k;e[1]!==t||e[2]!==o?(k=async e=>{(await t(e)).success?(O(null),o(`/`)):O(`Error: Invalid Email or Password.`)},e[1]=t,e[2]=o,e[3]=k):k=e[3];let A=k,j;e[4]===Symbol.for(`react.memo_cache_sentinel`)?(j=(0,y.jsxs)(`h1`,{className:`text-3xl text-(--secondary-color)`,children:[`Login `,(0,y.jsx)(`span`,{className:`text-(--ternary-color)`,children:`Now`})]}),e[4]=j):j=e[4];let M;e[5]!==b||e[6]!==A?(M=b(A),e[5]=b,e[6]=A,e[7]=M):M=e[7];let N;e[8]===m?N=e[9]:(N=m(`email`),e[8]=m,e[9]=N);let P=S.email?.message,F;e[10]===Symbol.for(`react.memo_cache_sentinel`)?(F={marginBottom:`10px`,borderRadius:`7px`},e[10]=F):F=e[10];let I;e[11]!==S.email||e[12]!==N||e[13]!==P?(I=(0,y.jsx)(c,{...N,className:`bg-(--ternary-color)`,fullWidth:!0,label:`Email`,type:`email`,error:S.email,helperText:P,sx:F}),e[11]=S.email,e[12]=N,e[13]=P,e[14]=I):I=e[14];let L;e[15]===m?L=e[16]:(L=m(`password`),e[15]=m,e[16]=L);let R=T?`text`:`password`,z=S.password?.message,B;e[17]===Symbol.for(`react.memo_cache_sentinel`)?(B={marginBottom:`10px`,borderRadius:`7px`},e[17]=B):B=e[17];let V;e[18]===T?V=e[19]:(V={endAdornment:(0,y.jsx)(d,{position:`end`,children:(0,y.jsx)(p,{children:T?(0,y.jsx)(h,{onClick:()=>E(!1)}):(0,y.jsx)(i,{onClick:()=>E(!0)})})})},e[18]=T,e[19]=V);let H;e[20]!==S.password||e[21]!==R||e[22]!==z||e[23]!==V||e[24]!==L?(H=(0,y.jsx)(c,{...L,className:`bg-(--ternary-color)`,fullWidth:!0,label:`Password`,type:R,error:S.password,helperText:z,sx:B,InputProps:V}),e[20]=S.password,e[21]=R,e[22]=z,e[23]=V,e[24]=L,e[25]=H):H=e[25];let U;e[26]===D?U=e[27]:(U=D&&(0,y.jsx)(`div`,{className:`w-[80%] md:w-[40%] bg-red-600 text-lg md:text-2xl text-red-200 text-center px-3 py-2 rounded`,children:D}),e[26]=D,e[27]=U);let W=!C||!w||n,G;e[28]===n?G=e[29]:(G=n?(0,y.jsxs)(`div`,{className:`flex gap-1`,children:[(0,y.jsx)(s,{className:`animate-spin m-auto`}),`Loading...`]}):(0,y.jsx)(`span`,{children:`Login`}),e[28]=n,e[29]=G);let K;e[30]!==W||e[31]!==G?(K=(0,y.jsx)(`button`,{disabled:W,type:`submit`,className:`mt-2 bg-(--secondary-color) text-(--main-color) px-3 py-2 rounded font-medium cursor-pointer duration-300`,children:G}),e[30]=W,e[31]=G,e[32]=K):K=e[32];let q;return e[33]!==H||e[34]!==U||e[35]!==K||e[36]!==M||e[37]!==I?(q=(0,y.jsxs)(`section`,{className:`register w-full h-screen bg-(--body-color) flex flex-col items-center justify-center gap-5 font-bold`,children:[j,(0,y.jsxs)(`form`,{onSubmit:M,className:`w-[90%] border border-(--ternary-color) p-3 rounded flex flex-col items-center justify-center`,children:[I,H,U,K]})]}),e[33]=H,e[34]=U,e[35]=K,e[36]=M,e[37]=I,e[38]=q):q=e[38],q}export{b as default};